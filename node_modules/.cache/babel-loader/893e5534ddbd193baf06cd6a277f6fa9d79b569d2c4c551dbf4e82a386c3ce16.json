{"ast":null,"code":"import _slicedToArray from\"/Users/danielq/Documents/GitHub/emiride.com/emiride/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function MapComponent(_ref){var latitude=_ref.latitude,longitude=_ref.longitude;var mapRef=useRef(null);var markerRef=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),shouldLoadMap=_useState2[0],setShouldLoadMap=_useState2[1];var location=useLocation();useEffect(function(){var handleScroll=function handleScroll(){var _mapRef$current$getBo=mapRef.current.getBoundingClientRect(),top=_mapRef$current$getBo.top,bottom=_mapRef$current$getBo.bottom;var isIntersecting=top<window.innerHeight&&bottom>=0;if(isIntersecting){setShouldLoadMap(true);window.removeEventListener('scroll',handleScroll);}};window.addEventListener('scroll',handleScroll);return function(){window.removeEventListener('scroll',handleScroll);};},[]);useEffect(function(){if(shouldLoadMap&&!window.google){// Load the Google Maps JavaScript API script\nvar googleMapsScript=document.createElement('script');googleMapsScript.src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBUh1HZCtb0h9Q3pfvLGyGh5YMOTHl6v-4\";googleMapsScript.async=true;googleMapsScript.addEventListener('load',initializeMap);window.document.body.appendChild(googleMapsScript);return function(){googleMapsScript.removeEventListener('load',initializeMap);window.document.body.removeChild(googleMapsScript);};}else if(shouldLoadMap&&window.google){initializeMap();}},[shouldLoadMap]);var initializeMap=function initializeMap(){var map=new window.google.maps.Map(mapRef.current,{center:{lat:latitude,lng:longitude},zoom:16});var marker=new window.google.maps.Marker({position:{lat:latitude,lng:longitude},map:map,title:'E M I Ride Rent a Car'// Set the title for the marker\n});var infoWindow=new window.google.maps.InfoWindow({content:marker.getTitle()// Use the marker's title as the content of the info window\n});infoWindow.open(map,marker);// Open the info window immediately\n// Store the marker reference for later use\nmarkerRef.current=marker;};return/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{width:'100%',height:'650px',margin:'40px'},children:location.pathname==='/'||location.pathname==='/inicio'||location.pathname==='/INICIO'?null:/*#__PURE__*/_jsx(\"p\",{children:\"Map Component should be rendered on the root (\\\"/\\\") or \\\"/inicio\\\" routes.\"})});}export default MapComponent;","map":{"version":3,"names":["React","useEffect","useRef","useState","useLocation","MapComponent","latitude","longitude","mapRef","markerRef","shouldLoadMap","setShouldLoadMap","location","handleScroll","current","getBoundingClientRect","top","bottom","isIntersecting","window","innerHeight","removeEventListener","addEventListener","google","googleMapsScript","document","createElement","src","async","initializeMap","body","appendChild","removeChild","map","maps","Map","center","lat","lng","zoom","marker","Marker","position","title","infoWindow","InfoWindow","content","getTitle","open","width","height","margin","pathname"],"sources":["/Users/danielq/Documents/GitHub/emiride.com/emiride/src/components/MapComponent.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nfunction MapComponent({ latitude, longitude }) {\n  const mapRef = useRef(null);\n  const markerRef = useRef(null);\n  const [shouldLoadMap, setShouldLoadMap] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const { top, bottom } = mapRef.current.getBoundingClientRect();\n      const isIntersecting = top < window.innerHeight && bottom >= 0;\n\n      if (isIntersecting) {\n        setShouldLoadMap(true);\n        window.removeEventListener('scroll', handleScroll);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (shouldLoadMap && !window.google) {\n      // Load the Google Maps JavaScript API script\n      const googleMapsScript = document.createElement('script');\n      googleMapsScript.src = `https://maps.googleapis.com/maps/api/js?key=AIzaSyBUh1HZCtb0h9Q3pfvLGyGh5YMOTHl6v-4`;\n      googleMapsScript.async = true;\n      googleMapsScript.addEventListener('load', initializeMap);\n      window.document.body.appendChild(googleMapsScript);\n\n      return () => {\n        googleMapsScript.removeEventListener('load', initializeMap);\n        window.document.body.removeChild(googleMapsScript);\n      };\n    } else if (shouldLoadMap && window.google) {\n      initializeMap();\n    }\n  }, [shouldLoadMap]);\n\n  const initializeMap = () => {\n    const map = new window.google.maps.Map(mapRef.current, {\n      center: { lat: latitude, lng: longitude },\n      zoom: 16,\n    });\n\n    const marker = new window.google.maps.Marker({\n      position: { lat: latitude, lng: longitude },\n      map: map,\n      title: 'E M I Ride Rent a Car', // Set the title for the marker\n    });\n\n    const infoWindow = new window.google.maps.InfoWindow({\n      content: marker.getTitle(), // Use the marker's title as the content of the info window\n    });\n\n    infoWindow.open(map, marker); // Open the info window immediately\n\n    // Store the marker reference for later use\n    markerRef.current = marker;\n  };\n\n  return (\n    <div ref={mapRef} style={{ width: '100%', height: '650px', margin: '40px' }}>\n      {location.pathname === '/' || location.pathname === '/inicio' || location.pathname === '/INICIO' ? null : (\n        <p>Map Component should be rendered on the root (\"/\") or \"/inicio\" routes.</p>\n      )}\n    </div>\n  );\n}\n\nexport default MapComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}